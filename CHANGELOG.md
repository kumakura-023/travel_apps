# CHANGELOG

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [1.2.9] - 2024-12-19

### 🐛 バグ修正
- **モバイル版詳細パネル**: ハンドルバーをドラッグした際にパネルが画面上部へ張り付く問題を修正
  - `bottom: 0` を常時維持し、ドラッグ中でもパネル下端を基準に高さを連続的に変化させる
  - 展開状態のみ `top: 0` を付与し、不要な `bottom-0` の重複を排除
  - クラス名とインラインスタイルの整合性を整理し、位置ズレを解消

## [1.2.8] - 2024-12-19

### ✨ 新機能
- **モバイル版詳細パネル**: iOS風ドラッグ操作による展開/縮小機能を実装
  - パネル上部のハンドルバーからのドラッグ操作に対応
  - ドラッグ中にパネルの高さがリアルタイムで変化
  - ドラッグ終了時の移動量（50px以上）に基づいて展開/縮小を判定
  - iOS風のボトムシートのような滑らかな操作感を実現
  - ハンドルバーに適切なカーソル表示（grab/grabbing）

### 🔧 技術的改善
- パネルをflexboxコンテナに変更し、ハンドルエリアとコンテンツエリアの配置を最適化
- ドラッグ中の高さ制御を動的に調整（30vh〜100vhの範囲）
- タッチイベントの`preventDefault`でブラウザデフォルト動作を抑制

## [1.2.7] - 2024-12-19

### Fixed
- **スクロール展開機能**: 超敏感な検知とデバッグ表示を追加
  - タッチ移動の検知感度を1px以上に変更（超敏感設定）
  - スマホ画面上でのデバッグ情報表示を追加
  - より詳細なタッチイベントログを実装
  - タッチイベントが正しく発火しているかを確認可能

### Added
- **デバッグ機能**: スマホでのタッチ動作確認用
  - 画面上にリアルタイムデバッグ情報表示
  - タッチ座標とデルタ値の表示
  - イベント発火状況の可視化

## [1.2.6] - 2024-12-19

### Fixed
- **スクロール展開機能**: Reactイベントハンドラーを使用した確実な動作を実現
  - `addEventListener`からReactの`onTouchStart`/`onTouchMove`に変更
  - より直接的で確実なタッチイベント検知
  - 10px以上の縦方向移動で展開をトリガー
  - デバッグ用コンソールログを追加（開発者ツールで動作確認可能）

### Changed
- イベントハンドラーをReactネイティブな方法に統一
- より安定したタッチ操作検知の実装

## [1.2.5] - 2024-12-19

### 🐛 緊急修正
- **スクロール展開機能**: Reactイベントハンドラーを使用した確実な検知に変更
  - `addEventListener`からReactの`onTouchStart`/`onTouchMove`に変更
  - より直接的で確実なタッチイベント検知
  - 10px以上の縦方向移動で展開をトリガー
  - デバッグ用コンソールログを追加（開発者ツールで動作確認可能）

### 🔧 技術的改善
- イベントハンドラーをReactネイティブな方法に統一
- より安定したタッチ操作検知

## v1.2.4 (2024-12-19)

### 🐛 バグ修正
- **スマホ版詳細パネル**: スクロール展開機能を完全修正
  - コンテンツエリアに直接タッチイベントを設定し、確実にスクロール動作を検知
  - 15px以上の縦方向移動で展開トリガー
  - 非展開状態でのみ展開機能を動作させ、展開後は通常スクロールを許可
  - プルツーリフレッシュ防止機能を分離して展開状態でのみ動作

### 🔧 技術的改善
- タッチイベントハンドラーをコンテンツエリア専用に最適化
- イベントリスナーの管理を改善

## v1.2.3 (2024-12-19)

### 🎨 UX改善
- **スマホ版詳細パネル**: スクロールベースのパネル展開機能を実装
  - クリックベースからスクロールベースの展開に変更
  - パネル内でスクロール動作（10px以上の縦方向移動）を検知すると自動展開
  - PCでのテスト用にホイールイベントも対応
  - より自然で直感的な操作性を実現

### 🔧 技術的改善
- タッチイベントハンドラーの最適化
- プルツーリフレッシュ防止機能の改善

## v1.2.1 (2024-12-19)

### 🐛 バグ修正
- **スマホ版詳細パネル**: 全画面表示機能を修正
  - パネルコンテンツをタップで確実に全画面表示に切り替わるよう改善
  - 複雑なタッチイベントハンドラーを簡略化し、安定性を向上
  - プルツーリフレッシュ防止機能を改善

### 🎨 UX改善
- 非展開状態のパネルにカーソルポインターを追加
- タップ可能であることを視覚的に明示

## v1.2.0 (2024-12-19)

### ✨ 新機能
- **スマホ版詳細パネルのUX大幅改善**
  - パネル内スクロールを制御（非展開時は無効化）
  - タッチで全画面表示への切り替え機能
  - 展開/縮小ボタンを閉じるボタンに変更
  - スマホ版での✕ボタンを非表示
  - プルツーリフレッシュを無効化

### 🔧 技術的改善
- タッチイベントハンドラーの最適化
- パネル状態管理の改善

## v1.1.0

### ✨ 新機能
- スマホ版詳細パネルのボトムシート形式
- TabNavigation表示/非表示機能
- スマホ版UI大幅改善

## [1.2.10] - 2024-12-19

### 🐛 バグ修正
- **モバイル版詳細パネル**: ドラッグ中にハンドルバーから指が離れるとパネルが動かなくなる問題を修正
  - `touchmove` / `touchend` ハンドラーをパネル全体に移動し、ドラッグ操作を継続検知
  - ハンドルバーは `touchstart` のみ担当し、以降のイベントはパネルが捕捉
  - これにより連続的な高さ変化が機能するように改善

## [1.2.11] - 2024-12-19

### 🐛 バグ修正
- **モバイル版詳細パネル**: ハンドルバーの `touchmove/touchend` が発火しないケースを修正
  - ハンドルバーに `onTouchMove` / `onTouchEnd` を再度バインド
  - パネル全体に `touch-none` を追加してブラウザのジェスチャ干渉を防止 